require=function t(e,o,c){function n(i,r){if(!o[i]){if(!e[i]){var s="function"==typeof require&&require;if(!r&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){var o=e[i][1][t];return n(o||t)},p,p.exports,t,e,o,c)}return o[i].exports}for(var a="function"==typeof require&&require,i=0;i<c.length;i++)n(c[i]);return n}({game:[function(t,e,o){"use strict";cc._RF.push(e,"7d40eLSxHBNF45Alw78OeUG","game");var c=t("player"),n=t("prefabManager");cc.Class({extends:cc.Component,properties:{player:cc.Node,gameOverLayer:cc.Node,bestScoreLayer:cc.Node,bestScoreNameBox:cc.EditBox,scoreNumLab:cc.Label,instructionLab:cc.Node,arrow:cc.Node,playerParticle:cc.Node,playerScript:c,prefabManager:n,rotateSpeed:0,bgAudio:{url:cc.AudioClip,default:null}},onLoad:function(){this.score=0,this.gameStart=!1,this.bestScore=cc.sys.localStorage.getItem("firstScore"),this.bestScore||(this.bestScore=0);var t=this;this.node.on("touchmove",function(e){!t.playerScript.dead&&t.gameStart&&(t.player.x=e.getLocationX()-.5*t.node.width,t.player.y=e.getLocationY()-.5*t.node.height)},this),this.player.on("touchstart",function(e){t.playerScript.dead||(t.instructionLab.getComponent(cc.Animation).play("instructionAnim"),t.arrow.getComponent(cc.Animation).play("instructionAnim"),t.startGame())},this),this.player.on("touchend",function(e){t.playerScript.dead||t.playerScript.die()},this),cc.director.getCollisionManager().enabled=!0},startGame:function(){this.gameStart=!0,this.playerScript.init(this),this.prefabManager.init(this),this.playerParticle.active=!0,this.current=cc.audioEngine.play(this.bgAudio,!0,1)},stopGame:function(){cc.director.getCollisionManager().enabled=!1,this.prefabManager.stopAllObstacle(),this.playerParticle.active=!1,this.score>this.bestScore?this.bestScoreLayer.getComponent(cc.Animation).play("bestScoreAnim"):this.gameOverLayer.getComponent(cc.Animation).play("gameOverAnim"),cc.audioEngine.stop(this.current)},bestScoreOk:function(){var t=cc.sys.localStorage.getItem("firstName"),e=(cc.sys.localStorage.getItem("firstScore"),cc.sys.localStorage.getItem("secondName"));cc.sys.localStorage.getItem("secondScore");e&&(cc.sys.localStorage.setItem("thirdName",cc.sys.localStorage.getItem("secondName")),cc.sys.localStorage.setItem("thirdScore",cc.sys.localStorage.getItem("secondScore"))),t&&(cc.sys.localStorage.setItem("secondName",cc.sys.localStorage.getItem("firstName")),cc.sys.localStorage.setItem("secondScore",cc.sys.localStorage.getItem("firstScore"))),cc.sys.localStorage.setItem("firstName",this.bestScoreNameBox.string),cc.sys.localStorage.setItem("firstScore",this.score),this.bestScoreLayer.y=-542,this.gameOverLayer.getComponent(cc.Animation).play("gameOverAnim")},replayGame:function(){cc.director.loadScene("game")},gainScore:function(){this.score++,this.scoreNumLab.string=this.score},backToMenu:function(){cc.director.loadScene("menu")},start:function(){},update:function(t){}}),cc._RF.pop()},{player:"player",prefabManager:"prefabManager"}],load:[function(t,e,o){"use strict";cc._RF.push(e,"951cb9h2l9KbK/rZSfRwfgj","load"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on("touchend",function(t){this.getComponent(cc.Animation).play("gameTitleAnim")},this)},loadMenu:function(){cc.director.loadScene("menu")},start:function(){}}),cc._RF.pop()},{}],menu:[function(t,e,o){"use strict";cc._RF.push(e,"7894b4LP6FCDL37Ez+AwzrR","menu"),cc.Class({extends:cc.Component,properties:{startBtn:cc.Node,rankingBtn:cc.Node,settingBtn:cc.Node},onLoad:function(){this.startBtn.getComponent(cc.Animation).play("startBtnAnim"),this.rankingBtn.getComponent(cc.Animation).play("rankingBtnAnim"),this.settingBtn.getComponent(cc.Animation).play("settingBtnAnim")},gameTitleMove:function(){},startGame:function(){cc.director.loadScene("game")},toRankingBoard:function(){cc.director.loadScene("rankingBoard")},start:function(){}}),cc._RF.pop()},{}],move:[function(t,e,o){"use strict";cc._RF.push(e,"428aevmtHtD56tutTAfCcn1","move"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],player:[function(t,e,o){"use strict";cc._RF.push(e,"c5359f34bZJc58S+3VFG5aW","player"),cc.Class({extends:cc.Component,properties:{},init:function(t){this.game=t,this.dead=!1},onCollisionEnter:function(t,e){4441!==t.tag&&4442!==t.tag&&44431!==t.tag&&44432!==t.tag||this.die()},die:function(){this.game.stopGame(),this.dead=!0},start:function(){}}),cc._RF.pop()},{}],prefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"63544eVfBVJf5q72pfmeGyD","prefabManager"),cc.Class({extends:cc.Component,properties:{stickPrefab:cc.Prefab,crossPrefab:cc.Prefab,fencePrefab:cc.Prefab,obstacleLayer:cc.Node},init:function(t){this.node.active=!0,this.game=t,this.screenSize=cc.director.getVisibleSize(),this.stickPool=new cc.NodePool,this.crossPool=new cc.NodePool,this.fencePool=new cc.NodePool;for(var e=0;e<7;e++)this.stickPool.put(cc.instantiate(this.stickPrefab)),this.crossPool.put(cc.instantiate(this.crossPrefab)),this.fencePool.put(cc.instantiate(this.fencePrefab));this.counter=0,this.spawn()},onCollisionEnter:function(t,e){4441!==t.tag&&4442!==t.tag&&4443!==t.tag||(this.despawn(t.node,t.tag),this.game.gainScore())},spawn:function(){var t,e=Math.round(1+2*Math.random()),o=2*Math.random()-1;switch(o/=Math.abs(o),e){case 1:(t=this.stickPool.get()).getComponent("rotation").rotateSpeed=200*o,t.getComponent("rotation").moveSpeedY=500;break;case 2:(t=this.crossPool.get()).getComponent("rotation").rotateSpeed=200*o,t.getComponent("rotation").moveSpeedY=500;break;case 3:(t=this.fencePool.get()).getComponent("rotation").rotateSpeed=0,t.getComponent("rotation").moveSpeedY=500;break;default:t=this.stickPool.get()}t.x=.8*this.screenSize.width*Math.random()-.4*this.screenSize.width,t.y=500,this.obstacleLayer.addChild(t)},despawn:function(t,e){switch(e){case 4441:this.stickPool.put(t);break;case 4442:this.crossPool.put(t);break;case 4443:this.fencePool.put(t);break;default:this.stickPool.put(t)}},stopAllObstacle:function(){for(var t=0;t<this.obstacleLayer.childrenCount;t++)this.obstacleLayer.children[t].getComponent("rotation").rotateSpeed=0,this.obstacleLayer.children[t].getComponent("rotation").moveSpeedY=0},start:function(){},update:function(t){60!=++this.counter||this.game.playerScript.dead||(this.counter=0,this.spawn())}}),cc._RF.pop()},{}],rankingBoard:[function(t,e,o){"use strict";cc._RF.push(e,"8b8043z6mVH+aAwpocBoQpP","rankingBoard"),cc.Class({extends:cc.Component,properties:{firstLab:cc.Node,secondLab:cc.Node,thirdLab:cc.Node},onLoad:function(){var t=cc.sys.localStorage.getItem("firstName"),e=cc.sys.localStorage.getItem("firstScore"),o=cc.sys.localStorage.getItem("secondName"),c=cc.sys.localStorage.getItem("secondScore"),n=cc.sys.localStorage.getItem("thirdName"),a=cc.sys.localStorage.getItem("thirdScore");this.firstLab.getComponent(cc.Label).string=t?"1. "+t+" "+e:"1. --NO DATA--",this.secondLab.getComponent(cc.Label).string=o?"2. "+o+" "+c:"2. --NO DATA--",this.thirdLab.getComponent(cc.Label).string=n?"3. "+n+" "+a:"3. --NO DATA--",cc.log(t),this.firstLab.getComponent(cc.Animation).play("firstLabAnim"),this.secondLab.getComponent(cc.Animation).play("secondLabAnim"),this.thirdLab.getComponent(cc.Animation).play("thirdLabAnim")},backToMenu:function(){cc.director.loadScene("menu")},startGame:function(){cc.director.loadScene("game")},start:function(){}}),cc._RF.pop()},{}],rotation:[function(t,e,o){"use strict";cc._RF.push(e,"1ebe0bIMFVLE6fJP9HKy3cT","rotation"),cc.Class({extends:cc.Component,properties:{rotateSpeed:0,moveSpeedY:0},onLoad:function(){this.obstacle=this.node.getChildByName("Obstacle"),this.shadow=this.node.getChildByName("Shadow")},start:function(){},update:function(t){this.node.y-=this.moveSpeedY*t,this.obstacle.rotation+=this.rotateSpeed*t,this.shadow.rotation+=this.rotateSpeed*t}}),cc._RF.pop()},{}]},{},["game","load","menu","move","player","prefabManager","rankingBoard","rotation"]);